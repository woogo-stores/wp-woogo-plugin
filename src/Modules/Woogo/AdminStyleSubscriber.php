<?php

declare(strict_types=1);

namespace Woogostores\Plugin\Modules\Woogo;

use PDO;
use Woogostores\Plugin\Inc\EventManagement\SubscriberInterface;

class AdminStyleSubscriber implements SubscriberInterface
{

    public function __construct(private string $pluginDirUrl)
    {
    }

    /**
     * {@inheritdoc}
     */
    public static function getSubscribedEvents(): array
    {
        return [
            'admin_init' => 'WoogoCustomScheme',
            'login_enqueue_scripts' => 'customLoginStyles',
            'login_headerurl' => fn () => home_url(),
        ];
    }

    public function customLoginStyles()
    {
        ?>
        <style type="text/css">
            #login h1 a, .login h1 a {
                background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 556 116'%3E%3Cpath fill='none' d='M-1-1h558v118H-1Z'/%3E%3Cpath fill='%2362bb99' d='M45.753 42.354c-.403-.404-.98-.634-1.786-.634-1.497 0-2.476.922-2.995 2.65l-6.336 19.814-5.184-20.275c-.23-.634-.576-1.152-1.037-1.555-.46-.404-1.094-.634-1.785-.634-.807 0-1.44.23-1.901.634a3.14 3.14 0 0 0-.98 1.555L17.876 63.78l-6.222-19.41c-.346-.922-.75-1.556-1.21-2.016-.46-.404-1.094-.634-1.785-.634-1.613 0-2.42.806-2.42 2.42 0 .575.058 1.151.23 1.612l8.526 25.574a2.478 2.478 0 0 0 1.036 1.383 3.048 3.048 0 0 0 3.399 0c.518-.346.864-.807 1.094-1.383l5.933-20.908 5.645 20.908c.115.576.46 1.037.979 1.383.518.345 1.094.518 1.786.518.576 0 1.152-.173 1.67-.518a3.16 3.16 0 0 0 1.037-1.383l8.525-25.574c.172-.46.288-1.037.288-1.67a2.55 2.55 0 0 0-.634-1.728zm42.513 1.209c-2.42-1.382-5.127-2.073-8.122-2.073-3.11 0-5.818.69-8.237 2.073-2.419 1.383-4.32 3.226-5.645 5.645-1.382 2.42-2.016 5.184-2.016 8.294 0 3.11.634 5.818 2.016 8.237 1.325 2.42 3.226 4.32 5.645 5.703 2.42 1.382 5.127 2.016 8.237 2.016 3.053 0 5.76-.634 8.18-2.016 2.418-1.383 4.262-3.284 5.644-5.703 1.325-2.419 2.016-5.126 2.016-8.237 0-3.11-.691-5.875-2.074-8.294-1.382-2.42-3.225-4.262-5.644-5.645zm-13.421 4.493c1.555-.922 3.34-1.382 5.3-1.382 1.957 0 3.685.46 5.24 1.382 1.556.922 2.765 2.246 3.63 3.86.863 1.67 1.324 3.513 1.324 5.586 0 2.074-.46 3.975-1.325 5.588a9.605 9.605 0 0 1-3.628 3.801c-1.555.922-3.284 1.383-5.242 1.383-1.958 0-3.744-.461-5.3-1.383a9.605 9.605 0 0 1-3.628-3.801c-.922-1.613-1.325-3.514-1.325-5.588 0-2.073.403-3.916 1.325-5.587.864-1.613 2.074-2.937 3.629-3.859zm66.865-4.493c-2.419-1.382-5.126-2.073-8.12-2.073-3.111 0-5.819.69-8.238 2.073-2.419 1.383-4.32 3.226-5.645 5.645-1.382 2.42-2.016 5.184-2.016 8.294 0 3.11.634 5.818 2.016 8.237 1.325 2.42 3.226 4.32 5.645 5.703 2.42 1.382 5.127 2.016 8.237 2.016 3.053 0 5.76-.634 8.18-2.016 2.418-1.383 4.262-3.284 5.644-5.703 1.325-2.419 2.016-5.126 2.016-8.237 0-3.11-.691-5.875-2.074-8.294-1.382-2.42-3.225-4.262-5.644-5.645zm-13.42 4.493c1.555-.922 3.34-1.382 5.3-1.382 1.957 0 3.685.46 5.24 1.382 1.556.922 2.765 2.246 3.63 3.86.863 1.67 1.324 3.513 1.324 5.586 0 2.074-.46 3.975-1.325 5.588a9.605 9.605 0 0 1-3.628 3.801c-1.555.922-3.284 1.383-5.242 1.383-1.958 0-3.744-.461-5.3-1.383a9.605 9.605 0 0 1-3.628-3.801c-.921-1.613-1.325-3.514-1.325-5.588 0-2.073.404-3.916 1.325-5.587.864-1.613 2.074-2.937 3.629-3.859zm66.866-4.493c-2.42-1.382-5.127-2.073-8.122-2.073-3.11 0-5.818.69-8.237 2.073-2.419 1.383-4.32 3.226-5.645 5.645-1.382 2.42-2.016 5.184-2.016 8.294 0 3.11.576 5.818 1.844 8.237 1.267 2.42 2.995 4.32 5.241 5.703 2.247 1.382 4.781 2.016 7.661 2.016 2.42 0 4.666-.576 6.624-1.786 1.958-1.152 3.514-2.822 4.723-4.954v2.823c0 2.419-.46 4.55-1.382 6.278-.922 1.728-2.189 3.053-3.687 3.975-1.555.921-3.283 1.324-5.126 1.324-2.016 0-3.802-.345-5.357-1.036-1.613-.692-2.88-1.728-3.917-3.11-.633-.807-1.44-1.21-2.361-1.21-.576 0-1.095.172-1.613.518-.806.576-1.21 1.267-1.21 2.074 0 .576.173 1.094.634 1.612a15.533 15.533 0 0 0 5.99 4.724c2.362 1.094 4.954 1.612 7.719 1.612 3.053 0 5.817-.69 8.237-2.13 2.419-1.44 4.32-3.4 5.702-5.934 1.325-2.476 2.016-5.241 2.016-8.294V57.502c0-3.11-.691-5.875-2.074-8.294-1.382-2.42-3.225-4.262-5.644-5.645zm-2.88 23.328c-1.556.922-3.284 1.383-5.242 1.383-1.958 0-3.744-.461-5.3-1.383a9.605 9.605 0 0 1-3.628-3.801c-.922-1.613-1.325-3.514-1.325-5.588 0-2.073.403-3.916 1.325-5.587.864-1.613 2.074-2.937 3.629-3.859 1.555-.922 3.34-1.382 5.3-1.382 1.957 0 3.685.46 5.24 1.382 1.556.922 2.765 2.246 3.63 3.86.863 1.67 1.324 3.513 1.324 5.586 0 2.074-.46 3.975-1.325 5.588a9.605 9.605 0 0 1-3.628 3.801zM248.6 43.563c-2.419-1.382-5.126-2.073-8.12-2.073-3.111 0-5.819.69-8.238 2.073-2.419 1.383-4.32 3.226-5.645 5.645-1.382 2.42-2.016 5.184-2.016 8.294 0 3.11.634 5.818 2.016 8.237 1.325 2.42 3.226 4.32 5.645 5.703 2.42 1.382 5.127 2.016 8.237 2.016 3.053 0 5.76-.634 8.18-2.016 2.418-1.383 4.262-3.284 5.644-5.703 1.325-2.419 2.016-5.126 2.016-8.237 0-3.11-.691-5.875-2.074-8.294-1.382-2.42-3.225-4.262-5.644-5.645zm-13.42 4.493c1.555-.922 3.34-1.382 5.3-1.382 1.957 0 3.685.46 5.24 1.382 1.556.922 2.765 2.246 3.63 3.86.863 1.67 1.324 3.513 1.324 5.586 0 2.074-.46 3.975-1.325 5.588a9.605 9.605 0 0 1-3.628 3.801c-1.555.922-3.284 1.383-5.242 1.383-1.958 0-3.744-.461-5.3-1.383a9.604 9.604 0 0 1-3.628-3.801c-.922-1.613-1.325-3.514-1.325-5.588 0-2.073.403-3.916 1.325-5.587.864-1.613 2.074-2.937 3.629-3.859zm79.075-5.356c-1.958-.807-4.205-1.21-6.682-1.21-2.073 0-3.974.345-5.76.979-1.843.691-3.283 1.67-4.377 2.937-1.152 1.325-1.67 2.938-1.67 4.781 0 4.666 3.686 7.719 11.059 9.101 2.822.576 4.838 1.21 6.048 2.016 1.152.806 1.785 1.786 1.785 2.938 0 1.267-.633 2.246-1.843 2.937-1.21.749-2.88 1.095-5.069 1.095-1.67 0-3.225-.288-4.665-.864-1.498-.576-2.592-1.325-3.284-2.132-.69-.69-1.44-1.036-2.188-1.036-.634 0-1.325.288-2.016.806-.807.576-1.152 1.325-1.152 2.246 0 .692.23 1.325.749 1.786 1.267 1.325 3.11 2.362 5.414 3.168s4.723 1.21 7.373 1.21c2.592 0 4.838-.404 6.681-1.21 1.844-.806 3.283-1.958 4.263-3.398.921-1.44 1.44-3.053 1.44-4.839 0-2.361-.922-4.32-2.65-5.817-1.728-1.498-4.723-2.65-8.87-3.514-2.074-.403-3.63-.806-4.666-1.267-1.094-.461-1.843-.922-2.189-1.44-.403-.519-.576-1.152-.576-1.959 0-1.036.519-1.9 1.67-2.476 1.153-.576 2.593-.922 4.378-.922 1.498 0 2.823.23 3.917.576 1.037.346 2.074.98 3.053 1.843.806.749 1.67 1.095 2.707 1.095.634 0 1.152-.116 1.613-.461.633-.519.98-1.095.98-1.786 0-.576-.289-1.21-.75-1.843-1.152-1.382-2.765-2.534-4.723-3.34zm29.379.172v19.18c0 2.132.403 4.033 1.325 5.703.864 1.728 2.073 3.053 3.629 4.032 1.555.98 3.283 1.44 5.184 1.44h1.036c.98 0 1.786-.23 2.42-.806.633-.519.979-1.21.979-2.074 0-.806-.288-1.497-.749-2.073-.46-.519-1.037-.807-1.728-.807h-1.958c-1.268 0-2.304-.518-3.11-1.555-.865-1.037-1.268-2.304-1.268-3.86V47.827h4.896c.806 0 1.44-.23 1.958-.692.461-.46.75-1.036.75-1.728 0-.748-.289-1.382-.75-1.843-.518-.46-1.152-.691-1.958-.691h-4.896v-8.294a3.02 3.02 0 0 0-.806-2.074 3.018 3.018 0 0 0-2.074-.806c-.864 0-1.555.288-2.074.806-.576.576-.806 1.267-.806 2.074zm58.664.691c-2.42-1.382-5.126-2.073-8.121-2.073-3.11 0-5.818.69-8.237 2.073-2.42 1.383-4.32 3.226-5.645 5.645-1.382 2.42-2.016 5.184-2.016 8.294 0 3.11.634 5.818 2.016 8.237 1.325 2.42 3.226 4.32 5.645 5.703 2.419 1.382 5.126 2.016 8.237 2.016 3.052 0 5.76-.634 8.179-2.016 2.419-1.383 4.262-3.284 5.644-5.703 1.325-2.419 2.017-5.126 2.017-8.237 0-3.11-.692-5.875-2.074-8.294-1.383-2.42-3.226-4.262-5.645-5.645zm-13.42 4.493c1.555-.922 3.34-1.382 5.299-1.382 1.958 0 3.686.46 5.241 1.382 1.555.922 2.765 2.246 3.629 3.86.864 1.67 1.325 3.513 1.325 5.586 0 2.074-.461 3.975-1.325 5.588a9.604 9.604 0 0 1-3.629 3.801c-1.555.922-3.283 1.383-5.241 1.383-1.959 0-3.744-.461-5.3-1.383a9.604 9.604 0 0 1-3.628-3.801c-.922-1.613-1.325-3.514-1.325-5.588 0-2.073.403-3.916 1.325-5.587.864-1.613 2.073-2.937 3.628-3.859zm64.676-5.76c-1.152-.576-2.764-.922-4.78-.922-1.959 0-3.744.404-5.415 1.152-1.728.807-3.11 1.844-4.262 3.168V44.6c0-1.9-.98-2.88-2.88-2.88-.922 0-1.67.288-2.131.749-.519.518-.75 1.21-.75 2.131v25.747c0 .98.231 1.728.75 2.189.46.46 1.21.691 2.13.691.922 0 1.671-.23 2.132-.749.46-.46.749-1.21.749-2.13v-16.82c0-2.131.806-3.86 2.534-5.126 1.67-1.268 3.917-1.901 6.682-1.901.921 0 2.189.173 3.744.403.345.115.633.115.864.115 1.152 0 1.958-.576 2.304-1.843 0-.115.057-.288.057-.576 0-.922-.576-1.67-1.728-2.304zm47.598 16.531c.46-.46.749-1.094.749-1.843 0-2.995-.576-5.702-1.728-8.064-1.152-2.304-2.823-4.147-4.954-5.472-2.188-1.267-4.723-1.958-7.66-1.958-2.996 0-5.703.69-8.065 2.073-2.361 1.383-4.204 3.283-5.53 5.703-1.324 2.419-1.958 5.184-1.958 8.236 0 3.11.692 5.818 2.074 8.237 1.382 2.42 3.34 4.32 5.875 5.703 2.477 1.382 5.3 2.016 8.467 2.016 1.728 0 3.572-.288 5.53-.98 1.958-.633 3.571-1.497 4.896-2.534.576-.46.922-1.037.922-1.728 0-.691-.346-1.382-1.037-1.958a2.83 2.83 0 0 0-1.728-.576c-.749 0-1.382.23-1.9.633-.807.634-1.844 1.152-3.111 1.555-1.268.461-2.42.634-3.572.634-2.937 0-5.414-.806-7.43-2.477-2.016-1.613-3.226-3.801-3.629-6.509h21.888c.75 0 1.383-.23 1.901-.69zm-20.448-10.08c1.728-1.497 4.032-2.304 6.854-2.304 2.535 0 4.55.807 6.164 2.304 1.555 1.555 2.534 3.629 2.88 6.163H477.42c.46-2.534 1.555-4.608 3.283-6.163zm60.951-6.047c-1.958-.807-4.205-1.21-6.682-1.21-2.073 0-3.974.345-5.76.979-1.843.691-3.283 1.67-4.377 2.937-1.152 1.325-1.67 2.938-1.67 4.781 0 4.666 3.686 7.719 11.059 9.101 2.822.576 4.838 1.21 6.048 2.016 1.152.806 1.785 1.786 1.785 2.938 0 1.267-.633 2.246-1.843 2.937-1.21.749-2.88 1.095-5.069 1.095-1.67 0-3.225-.288-4.665-.864-1.498-.576-2.592-1.325-3.284-2.132-.69-.69-1.44-1.036-2.188-1.036-.634 0-1.325.288-2.016.806-.807.576-1.152 1.325-1.152 2.246 0 .692.23 1.325.748 1.786 1.268 1.325 3.11 2.362 5.415 3.168 2.304.806 4.723 1.21 7.373 1.21 2.592 0 4.838-.404 6.681-1.21 1.844-.806 3.283-1.958 4.263-3.398.921-1.44 1.44-3.053 1.44-4.839 0-2.361-.922-4.32-2.65-5.817-1.728-1.498-4.723-2.65-8.87-3.514-2.074-.403-3.63-.806-4.666-1.267-1.094-.461-1.843-.922-2.189-1.44-.403-.519-.576-1.152-.576-1.959 0-1.036.519-1.9 1.67-2.476 1.153-.576 2.593-.922 4.378-.922 1.498 0 2.823.23 3.917.576 1.037.346 2.074.98 3.053 1.843.806.749 1.67 1.095 2.707 1.095.634 0 1.152-.116 1.613-.461.633-.519.98-1.095.98-1.786 0-.576-.289-1.21-.75-1.843-1.152-1.382-2.765-2.534-4.723-3.34z'/%3E%3Cpath fill='%2362bb99' d='M23.964 23.118q.096.168.096.384 0 .384-.288.672-.264.264-.648.264-.624 0-.888-.576l-1.608-3.888H11.34l-1.608 3.888q-.192.576-.864.576-.408 0-.672-.264-.24-.288-.24-.672 0-.24.072-.408l7.056-16.752q.264-.648.912-.648t.888.648zm-3.984-4.752-3.984-9.624-3.984 9.624z' aria-label='A' font-family='Comfortaa,Helvetica,sans-serif' font-size='24'/%3E%3Cpath fill='%2362bb99' d='M492.66 107.678q-2.28 0-4.056-.96-1.752-.984-2.52-2.64-.096-.168-.096-.384 0-.336.24-.552.264-.24.696-.24.288 0 .528.168.264.144.384.432.552 1.08 1.824 1.752 1.296.648 3 .648 1.968 0 3.168-.936 1.2-.96 1.2-2.664 0-1.513-1.128-2.545-1.104-1.031-3.336-1.32-2.784-.335-4.392-1.727-1.584-1.416-1.584-3.456 0-1.44.768-2.52.792-1.104 2.16-1.68 1.392-.6 3.144-.6 1.896 0 3.336.84t2.256 2.184q.168.264.168.576 0 .456-.432.72-.192.096-.432.096-.264 0-.504-.12-.216-.144-.36-.384-1.344-2.112-4.056-2.136-1.944 0-3.072.816-1.128.816-1.128 2.328 0 2.808 4.536 3.408 2.976.432 4.44 1.824 1.464 1.392 1.464 3.672 0 1.68-.816 2.904t-2.232 1.872q-1.416.624-3.168.624zm16.107-13.512q1.704 0 3.048.72 1.368.72 2.136 2.112.768 1.367.768 3.287v6.24q0 .384-.264.648t-.648.264q-.408 0-.672-.264-.264-.264-.264-.648v-6.24q0-2.135-1.2-3.24-1.176-1.127-3.096-1.127-1.176 0-2.136.455-.936.457-1.488 1.273-.552.792-.552 1.776v7.104q0 .408-.264.672-.24.24-.648.24-.408 0-.672-.24-.264-.264-.264-.672V89.63q0-.408.264-.672.264-.264.672-.264.408 0 .648.264.264.264.264.672v6.432q.792-.888 1.92-1.392 1.128-.504 2.448-.504zm16.025 13.392q-1.896 0-3.432-.865-1.512-.863-2.376-2.375-.864-1.537-.864-3.433t.864-3.432q.864-1.536 2.376-2.4 1.536-.864 3.432-.864t3.408.864q1.512.864 2.376 2.4.888 1.536.888 3.432t-.864 3.432q-.864 1.513-2.4 2.377-1.512.863-3.408.863zm0-1.68q1.392 0 2.496-.649 1.104-.647 1.728-1.775.624-1.152.624-2.568 0-1.44-.624-2.568-.624-1.152-1.728-1.8-1.104-.648-2.496-.648-1.368 0-2.496.648-1.104.648-1.752 1.8-.624 1.128-.624 2.568 0 1.416.624 2.568.648 1.128 1.752 1.776 1.128.647 2.496.647zm16.962-11.688q1.872 0 3.384.888 1.536.864 2.4 2.4.888 1.536.888 3.408 0 1.872-.864 3.408-.84 1.512-2.328 2.4-1.464.864-3.288.864-1.56 0-2.856-.648-1.296-.672-2.136-1.824v7.032q0 .408-.264.672-.264.264-.672.264-.408 0-.672-.264-.24-.264-.24-.672v-5.376q-.024-.072-.024-.216v-5.64q0-1.872.864-3.408.888-1.536 2.4-2.4 1.536-.888 3.408-.888zm0 11.688q1.368 0 2.472-.648 1.128-.648 1.752-1.776.648-1.152.648-2.568 0-1.416-.648-2.544-.624-1.152-1.752-1.8-1.104-.672-2.472-.672-1.368 0-2.472.672-1.104.648-1.752 1.8-.624 1.128-.624 2.544 0 .408.024.6.024.048.024.12.24 1.872 1.56 3.072 1.344 1.2 3.24 1.2z' aria-label='Shop' font-family='Comfortaa,Helvetica,sans-serif' font-size='24'/%3E%3C/svg%3E");;
                height:65px;
                width:320px;
                background-size: 320px 65px;
                background-repeat: no-repeat;
                padding-bottom: 30px;
            }
            body {
                background-color: #efebd5 !important;
            }
            #wp-submit {
                background-color: #62BB99 !important;
                border-color: #62BB99 !important;
                box-shadow: none !important;
                text-shadow: none !important;
                color: #FFF !important;
            }
            .wp-core-ui .button, .wp-core-ui .button-secondary {
                color: #62BB99 !important;
            }
            input[type="text"]:focus,
            input[type="password"]:focus {
                border-color: #62BB99 !important;
                box-shadow: 0 0 0 1px #62BB99 !important;
                /* Only visible in Windows High Contrast mode */
                outline: 2px solid transparent;
            }
            .login #nav a:hover,
            .login #backtoblog a:hover,
            .login h1 a:hover {
                color: #62BB99 !important;
            }
            .login .message,
            .login .success,
            .login #login_error {
                border-left: 4px solid #62BB99 !important;
            }
            input[type="checkbox"]:checked::before {
                content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath d='M14.83 4.89l1.34.94-5.81 8.38H9.02L5.78 9.67l1.34-1.25 2.57 2.4z' fill='%2362BB99'/%3E%3C/svg%3E") !important;
                margin: -0.1875rem 0 0 -0.25rem;
                height: 1.3125rem;
                width: 1.3125rem;
            }
        </style>
        <?php

    }

    function WoogoCustomScheme()
    {
        //Woogo Stores
        wp_admin_css_color(
            'woogo_stores',
            __('Woogo Stores'),
            $this->pluginDirUrl . 'assets/woogo-admin-scheme.css',
            array( '#3d4c3f', '#efebd5', '#4a473a' , '#62bb99')
        );
    }

}
